<!doctype html>
<html>

<head>
	<title> Newsroom Daily List </title>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script>window.jQuery || document.write('<script src="js/vendor/jquery-1.10.2.min.js"><\/script>')</script>
	<link rel="stylesheet" href="/static/css/main.css">

</head>

<body class="DL">

 <form action='{{ url_for("newsroom_dailylist_submit") }}' id="dailyList" method="post">
	
	<div id="DLheader"> 
        <h1> Rebecca's Daily List  </h1>
		<img src="https://youthradio.org/wp-content/themes/youthradio/library/images/s/footer-logo.png"/> 
		

		<input type="submit" value="Send to News Room"/>

	</div>

	<div id="DLnews">
		<h2> In the News </h2>
		<input type="text" id="newslink"> 
		<input type="button" value="add" id="newsclick"/>

		<h2> Announcements </h2>
		<textarea rows="3"  name="ann"></textarea> 
	</div>

	<div id="DLyr">
		<h2> Today's Round Up </h2>

        <p> YouthRadio.org </p> 
        <textarea rows="3" name="yr"></textarea>
         
        <p> Player </p> 
        <textarea rows="3"  name="player"></textarea>
            
        <p> Podcast</p> 
        <textarea rows="3"  name="YRP"></textarea>
            
        <p> Turnstyle News </p>
        <textarea rows="3"  name="tn"></textarea> 
            
        <p> All Day Play </p> 
        <textarea rows="2"   name="adp"> </textarea> 
        
        <p> Huffington Post </p> 
        <textarea rows="3"  name="HP"></textarea>
            
        <p> Social Media </p>
        <textarea rows="3"  name="SM"></textarea>
    </div>

    <div id="DLassn">
        <h2> Assignments </h2>
    	<p>Newsroom</p> 
    	<textarea rows="3"  name="Nr"></textarea>

    	<p> Brett </p>
    	<textarea rows="3"  name="bm"></textarea>

    	<p> Denise </p>
    	<textarea rows="3"  name="dt"></textarea>

    	<p> Robyn </p>
    	<textarea rows="3"  name="rg"></textarea>

    	<p> Ike </p>
    	<textarea rows="3"  name="is"></textarea>

    	<p> Nishat</p>
    	<textarea rows="3"  name="nk"></textarea>

    	<p> Noah </p>
    	<textarea rows="3"  name="nn"></textarea>

    	<p> Teresa</p>
    	<textarea rows="3"  name="tc"></textarea>

    	<p> Chaz</p>
    	<textarea rows="3"  name="ch"></textarea>

    	<p> Ellin</p>
    	<textarea rows="3"  name="eol"></textarea>

    	<p> Rebecca </p>
		<textarea rows="3"  name="rm"></textarea>

    	<p> Lissa </p>
    	<textarea rows="3"  name="ls"></textarea>

    	<p> Asha </p>
    	<textarea rows="3"  name="ar"></textarea>

    	<p> Kurt </p>
    	<textarea rows="3"  name="kc"></textarea>
    	
    	<p> Brandon <p>
    	<textarea rows="3"  name="bmf"></textarea>
    	
    	<p> Interns </p>
    	<textarea rows="3"  name="interns"></textarea>

    	<p> Other <p> 
    	<textarea rows="3"  name="other"></textarea>

    </div>

<script type="text/javascript">
var newslink = $('#newslink')
var newsclick = $('#newsclick')

  // Event handler for submitting the form...
  // Need to compile everything from the news links in to a form field.
  $('#dailyList').on('submit', function(event) {
    
    if ( $( event.target ).is() ) {};
    var linkText = "<ul>\n";

    $('#story_list li').each(function(index) {
      linkText = linkText + "<li>" + $(this).html() + "</li>\n"
    });

    linkText = linkText + "</ul>\n";

    $('#compiled_news_links').val(linkText);
  });

  // Event handler for adding a link...
  $('#newsclick').on("click", function (event) {
    $.get(
      '{{ url_for("ajax_getPageTitleForDailyList") }}',
      { url: newslink.val() }
    ).done(function(page) {
      // Convert this to JSON
      pageInfo = jQuery.parseJSON(page)

      // Add to the LI
      link = '<a href ="' + pageInfo.url + '" target="_blank">' + pageInfo.title + '</a>';
      deleteImage = '<img class="dImg" src="/static/img/delete.png">';
      $('#story_list').append('<li>' + link + deleteImage + '</li>');
      $('#story_list li img').removeClass('dImg').addClass('dImg');

      // Event handler for deleting a link...
      $('.dImg').on('click', function (event) {
        $(this).parent().remove();
      })

      // Clear the input box
      newslink.val('');
    });
  });

</script>



 </form>

</body>
</html>